# 8Ô∏è‚É£ Concurrent Collections (Java)
## –†–∞–∑–¥–µ–ª –¥–ª—è Senior Automation / SDET

================================================================================
## 1. –ü–û–ß–ï–ú–£ –û–ë–´–ß–ù–´–ï –ö–û–õ–õ–ï–ö–¶–ò–ò –ù–ï THREAD-SAFE
================================================================================

HashMap –∏ –¥—Ä—É–≥–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏–∑ java.util (ArrayList, HashMap, HashSet –∏ —Ç.–¥.)
–Ω–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –Ω–∏–∫–∞–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ. –û–Ω–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã
–Ω–∞ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.

–ü–û–ß–ï–ú–£ HASHMAP –ù–ï –ü–û–¢–û–ö–û–ë–ï–ó–û–ü–ê–°–ï–ù
  - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–º–∞—Å—Å–∏–≤ –±–∞–∫–µ—Ç–æ–≤, —Ü–µ–ø–æ—á–∫–∏ –∏–ª–∏ –¥–µ—Ä–µ–≤–æ —É–∑–ª–æ–≤) –º–æ–∂–µ—Ç
    –∏–∑–º–µ–Ω—è—Ç—å—Å—è –ø—Ä–∏ put(), remove(), resize(). –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤, –≤—ã–ø–æ–ª–Ω—è—é—â–∏—Ö
    —Ç–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –≤–∏–¥—è—Ç –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
  - –ù–µ—Ç –Ω–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫, –Ω–∏ –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–∞—Ä—Ç—ã.
  - –ß—Ç–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏ –¥—Ä—É–≥–∏–º –ø–æ—Ç–æ–∫–æ–º –º–æ–∂–µ—Ç –¥–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ,
    —á–∞—Å—Ç–∏—á–Ω–æ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–ª–∏ (–≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö) –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª.

RACE CONDITION –í –ö–û–ù–¢–ï–ö–°–¢–ï put()
  - –î–≤–∞ –ø–æ—Ç–æ–∫–∞ –≤—ã–∑—ã–≤–∞—é—Ç put() —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏, –ø–æ–ø–∞–¥–∞—é—â–∏–º–∏ –≤ –æ–¥–∏–Ω –±–∞–∫–µ—Ç:
    –æ–±–∞ —á–∏—Ç–∞—é—Ç –≥–æ–ª–æ–≤—É —Ü–µ–ø–æ—á–∫–∏, –æ–±–∞ –º–∞–Ω–∏–ø—É–ª–∏—Ä—É—é—Ç next-—Å—Å—ã–ª–∫–∞–º–∏ ‚Üí –≤–æ–∑–º–æ–∂–Ω–∞
    –ø–æ—Ç–µ—Ä—è —É–∑–ª–∞ –∏–ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ.
  - –ü—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º put() –∏ resize(): –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É,
    –¥—Ä—É–≥–æ–π –¥–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞.

–ü–û–ß–ï–ú–£ –û–ü–ï–†–ê–¶–ò–ò get() + put() –ù–ï –ê–¢–û–ú–ê–†–ù–´
  - –ú–µ–∂–¥—É get("A") –∏ put("A", value + 1) –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
    –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –∫–ª—é—á. –ò—Ç–æ–≥–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ.
  - –ü—Ä–∏–º–µ—Ä:
      Integer value = map.get("A");
      map.put("A", value + 1);
    –ï—Å–ª–∏ value –±—ã–ª null ‚Äî NPE. –ï—Å–ª–∏ –º–µ–∂–¥—É get –∏ put –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ —Å–¥–µ–ª–∞–ª
    put("A", 100), –º—ã –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ–º –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º value + 1 –æ—Ç —Å–≤–æ–µ–≥–æ get(),
    —Ç.–µ. –ø–æ—Ç–µ—Ä—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (lost update). –≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è race condition.

–ß–¢–û –ü–†–û–ò–°–•–û–î–ò–¢ –ü–†–ò resize()
  - HashMap –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞ (load factor) —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –±–∞–∫–µ—Ç–æ–≤
    –±–æ–ª—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç —É–∑–ª—ã (rehash). –≠—Ç–æ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏
    –≤ –æ–±—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É.
  - –ï—Å–ª–∏ –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –¥–µ–ª–∞–µ—Ç get/put, –æ–Ω –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ä—É—é
    –∏ –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ —Å–º–µ—à–∞–Ω–Ω–æ–º –≤–∏–¥–µ, –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —É–∂–µ –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω–Ω—ã–º –∏–ª–∏
    –µ—â—ë –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω–Ω—ã–º —É–∑–ª–∞–º ‚Üí –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.

–ü–û–ß–ï–ú–£ –í JAVA 7 –ú–û–ì –í–û–ó–ù–ò–ö–ê–¢–¨ INFINITE LOOP (—Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞ –≤ bucket)
  - –í Java 7 –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ —É–∑–ª–æ–≤ –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –±–∞–∫–µ—Ç–∞ –≤ –Ω–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫ —É–∑–ª–æ–≤ –≤
    —Ü–µ–ø–æ—á–∫–µ –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–ª—Å—è (–≥–æ–ª–æ–≤–∞ –≤—Å—Ç–∞–≤–ª—è–ª–∞—Å—å –≤ –Ω–∞—á–∞–ª–æ –Ω–æ–≤–æ–π —Ü–µ–ø–æ—á–∫–∏).
  - –ü—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º resize –¥–≤—É—Ö –ø–æ—Ç–æ–∫–æ–≤ –º–æ–≥–ª–∞ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞
    –≤ next-–ø–æ–ª—è—Ö —É–∑–ª–æ–≤. –¢–æ–≥–¥–∞ –∏—Ç–µ—Ä–∞—Ç–æ—Ä –∏–ª–∏ get() –≤—Ö–æ–¥–∏–ª –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª.
  - –í Java 8 —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ (–¥—Ä—É–≥–æ–π –ø–æ—Ä—è–¥–æ–∫ –ø–µ—Ä–µ–Ω–æ—Å–∞, –ø—Ä–∏ –±–æ–ª—å—à–æ–π –∫–æ–ª–ª–∏–∑–∏–∏
    ‚Äî –¥–µ—Ä–µ–≤–æ), —ç—Ç–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ü–∏–∫–ª–æ–º –ø—Ä–∏ resize —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞, –Ω–æ
    HashMap –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –Ω–µ thread-safe.

  –°—Ö–µ–º–∞ (—É–ø—Ä–æ—â—ë–Ω–Ω–æ, Java 7):
    Thread 1 –∏ 2 –æ–±–∞ –¥–µ–ª–∞—é—Ç resize, –æ–±–∞ –º–∞–Ω–∏–ø—É–ª–∏—Ä—É—é—Ç –æ–¥–Ω–æ–π —Ü–µ–ø–æ—á–∫–æ–π:
    A -> B  –ø–æ—Å–ª–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø–µ—Ä–µ–ø–ª–µ—Ç–µ–Ω–∏—è:  A.next = B, B.next = A -> —Ü–∏–∫–ª.

–ü–†–ò–ú–ï–† –ù–ï–ê–¢–û–ú–ê–†–ù–û–ô –û–ü–ï–†–ê–¶–ò–ò

    Integer value = map.get("A");
    map.put("A", value == null ? 1 : value + 1);

  –ü–æ—á–µ–º—É –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ:
    1. get("A") –∏ put(...) ‚Äî –¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–∞. –ú–µ–∂–¥—É –Ω–∏–º–∏ –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫
       –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å put("A", x) –∏–ª–∏ remove("A").
    2. Lost update: –º—ã –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ value.
    3. –ï—Å–ª–∏ map ‚Äî –æ–±—ã—á–Ω—ã–π HashMap, —Å–∞–º–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å
       –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞ –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö put —Å –¥—Ä—É–≥–∏—Ö –ø–æ—Ç–æ–∫–æ–≤.
  –†–µ—à–µ–Ω–∏–µ: ConcurrentHashMap + –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (compute, merge) –∏–ª–∏
  –≤–Ω–µ—à–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (synchronized (map) { ... }).

--------------------------------------------------------------------------------
üí¨ –ß–∞—Å—Ç—ã–π –≤–æ–ø—Ä–æ—Å –Ω–∞ –∏–Ω—Ç–µ—Ä–≤—å—é:
   "–ü–æ—á–µ–º—É HashMap –Ω–µ thread-safe?"
--------------------------------------------------------------------------------
–û—Ç–≤–µ—Ç —É—Ä–æ–≤–Ω—è Senior:

  "HashMap –Ω–µ –¥–∞—ë—Ç –Ω–∏–∫–∞–∫–∏—Ö –≥–∞—Ä–∞–Ω—Ç–∏–π –ø—Ä–∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ. –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è
   —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî –º–∞—Å—Å–∏–≤ –±–∞–∫–µ—Ç–æ–≤ –∏ —Ü–µ–ø–æ—á–∫–∏ (–∏–ª–∏ –¥–µ—Ä–µ–≤–æ –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö) ‚Äî –º–µ–Ω—è–µ—Ç—Å—è
   –ø—Ä–∏ put, remove –∏ resize –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏. –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –º–æ–≥—É—Ç
   –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ race condition: –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—é —Ü–µ–ø–æ—á–µ–∫, –ø–æ—Ç–µ—Ä–µ —É–∑–ª–æ–≤, –≤ Java 7
   ‚Äî –∫ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º —Å—Å—ã–ª–∫–∞–º –ø—Ä–∏ resize –∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º—É —Ü–∏–∫–ª—É –ø—Ä–∏ –æ–±—Ö–æ–¥–µ.
   –°–æ—Å—Ç–∞–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–∞ get + put –Ω–µ –∞—Ç–æ–º–∞—Ä–Ω—ã –∏ –¥–∞—é—Ç lost update.
   –î–ª—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω—É–∂–Ω—ã ConcurrentHashMap, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ë—Ä—Ç–∫–∏
   –∏–ª–∏ —è–≤–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞."


================================================================================
## 2. CONCURRENTHASHMAP
================================================================================

–ü–∞–∫–µ—Ç: java.util.concurrent.

–ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –í JAVA 8+
  - –•—Ä–∞–Ω–µ–Ω–∏–µ: –º–∞—Å—Å–∏–≤ —É–∑–ª–æ–≤ (Node). –ü—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö –≤ –æ–¥–Ω–æ–º –±–∞–∫–µ—Ç–µ ‚Äî —Ü–µ–ø–æ—á–∫–∞
    —É–∑–ª–æ–≤; –ø—Ä–∏ –±–æ–ª—å—à–æ–º —á–∏—Å–ª–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –±–∞–∫–µ—Ç–µ (TREEIFY_THRESHOLD) —Ü–µ–ø–æ—á–∫–∞
    –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ (tree bin) ‚Äî –ø–æ–∏—Å–∫ O(log n) –≤–º–µ—Å—Ç–æ O(n).
  - –ù–µ—Ç –æ–¥–Ω–æ–π –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–∞ –≤—Å—é —Ç–∞–±–ª–∏—Ü—É. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (–∏–ª–∏ CAS)
    –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –±–∞–∫–µ—Ç–∞ –∏–ª–∏ —É–∑–ª–∞.
  - put: –µ—Å–ª–∏ –±–∞–∫–µ—Ç –ø—É—Å—Ç ‚Äî CAS –Ω–∞ –ø–µ—Ä–≤—ã–π —É–∑–µ–ª; –∏–Ω–∞—á–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ
    –ø–µ—Ä–≤–æ–º—É —É–∑–ª—É –±–∞–∫–µ—Ç–∞ (fine-grained locking). resize –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–∞–∫, —á—Ç–æ–±—ã
    –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –±–∞–∫–µ—Ç—ã —Å—Ä–∞–∑—É.

CAS (Compare-And-Swap)
  - –ê—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ CPU: –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∞–¥—Ä–µ—Å—É, —Å—Ä–∞–≤–Ω–∏—Ç—å
    —Å –æ–∂–∏–¥–∞–µ–º—ã–º (expected), –µ—Å–ª–∏ —Å–æ–≤–ø–∞–ª–æ ‚Äî –∑–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ; –∏–Ω–∞—á–µ
    –ø–æ–≤—Ç–æ—Ä–∏—Ç—å (–∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å false). –í Java –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ Unsafe –∏ –æ–±—ë—Ä—Ç–∫–∏
    –≤ Atomic*, –≤ ConcurrentHashMap –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ –ø—É—Å—Ç–æ–π –±–∞–∫–µ—Ç
    –∏ –¥—Ä—É–≥–∏—Ö –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã.

Fine-grained locking
  - –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –Ω–µ –≤—Å—è –∫–∞—Ä—Ç–∞, –∞ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —É–∑–µ–ª (head) —Ç–æ–≥–æ –±–∞–∫–µ—Ç–∞, –≤ –∫–æ—Ç–æ—Ä—ã–π
    –∏–¥—ë—Ç –≤—Å—Ç–∞–≤–∫–∞. –î—Ä—É–≥–∏–µ –±–∞–∫–µ—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ—Ç–æ–∫–æ–≤.
  - –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –≤—ã—à–µ, —á–µ–º —É –æ–¥–Ω–æ–π –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (Hashtable,
    Collections.synchronizedMap).

–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
  - –ß—Ç–µ–Ω–∏–µ (get) –≤ –æ–±—ã—á–Ω–æ–º —Å–ª—É—á–∞–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è: –≤–∏–¥–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–µ
    —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É–∑–ª–æ–≤ (—Å —É—á—ë—Ç–æ–º volatile-–ø–æ–ª–µ–π). –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã weakly consistent.
  - –ó–∞–ø–∏—Å—å –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –±–∞–∫–µ—Ç (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CAS –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤).

Tree bins –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –∫–æ–ª–ª–∏–∑–∏–∏
  - –ö–æ–≥–¥–∞ –≤ –æ–¥–Ω–æ–º –±–∞–∫–µ—Ç–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–∑–ª–æ–≤ (8 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é),
    —Ü–µ–ø–æ—á–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ –∫—Ä–∞—Å–Ω–æ-—á—ë—Ä–Ω–æ–µ –¥–µ—Ä–µ–≤–æ. –≠—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç –≤—Ä–µ–º—è –ø–æ–∏—Å–∫–∞
    –ø—Ä–∏ –º–Ω–æ–≥–∏—Ö –∫–æ–ª–ª–∏–∑–∏—è—Ö –∏ –¥–µ–ª–∞–µ—Ç –∞—Ç–∞–∫–∏ –ø–æ –∫–æ–ª–ª–∏–∑–∏—è–º –º–µ–Ω–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º–∏.

–ü–†–ò–ú–ï–†–´

    ConcurrentHashMap<String, Integer> map = new ConcurrentHashMap<>();
    map.put("A", 1);
    map.compute("A", (k, v) -> v + 1);   // "A" -> 2

  compute(key, BiFunction): –∞—Ç–æ–º–∞—Ä–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è key, –ø—Ä–∏–º–µ–Ω—è–µ—Ç
  —Ñ—É–Ω–∫—Ü–∏—é –∫ (key, value) –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ù–µ—Ç –≥–æ–Ω–∫–∏ –º–µ–∂–¥—É get –∏ put.

–ü–û–ß–ï–ú–£ compute –ë–ï–ó–û–ü–ê–°–ù–ï–ï, –ß–ï–ú get() + put()
  - compute –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∫ –æ–¥–Ω–∞ –∞—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç—ã: —á—Ç–µ–Ω–∏–µ
    –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –∫–ª—é—á–∞ –∏ –∑–∞–ø–∏—Å—å –Ω–æ–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ–¥ –æ–¥–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
    –±–∞–∫–µ—Ç–∞ (–∏–ª–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CAS). –î—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –Ω–µ –º–æ–∂–µ—Ç –≤–∫–ª–∏–Ω–∏—Ç—å—Å—è
    –º–µ–∂–¥—É ¬´–ø—Ä–æ—á–∏—Ç–∞–ª–∏¬ª –∏ ¬´–∑–∞–ø–∏—Å–∞–ª–∏¬ª.
  - get() + put() ‚Äî –¥–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–∞: –º–µ–∂–¥—É –Ω–∏–º–∏ –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç
    –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ ‚Üí lost update –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

–ê–¢–û–ú–ê–†–ù–´–ï –ú–ï–¢–û–î–´ (–∫—Ä–∞—Ç–∫–æ)
  - putIfAbsent(key, value) ‚Äî –ø–æ–ª–æ–∂–∏—Ç—å, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–ª—é—á–∞ –µ—â—ë –Ω–µ—Ç. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç
    —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–±—ã–≤—à–µ–µ –∏–ª–∏ —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø–æ–ª–æ–∂–µ–Ω–Ω–æ–µ).
  - compute(key, BiFunction<K,V,V>) ‚Äî –≤—ã—á–∏—Å–ª–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É –∏
    —Å—Ç–∞—Ä–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é, –∑–∞–ø–∏—Å–∞—Ç—å –∞—Ç–æ–º–∞—Ä–Ω–æ.
  - merge(key, value, BiFunction<V,V,V>) ‚Äî –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–µ value —Å
    —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º (–∏–ª–∏ –ø–æ–ª–æ–∂–∏—Ç—å value, –µ—Å–ª–∏ –∫–ª—é—á–∞ –Ω–µ—Ç). –£–¥–æ–±–Ω–æ –¥–ª—è —Å—á—ë—Ç—á–∏–∫–æ–≤,
    —Å–ø–∏—Å–∫–æ–≤ –∏ —Ç.–¥.
  - replace(key, oldValue, newValue) ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    —Ä–∞–≤–Ω–æ oldValue (compare-and-set –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é).


================================================================================
## 3. COPYONWRITEARRAYLIST
================================================================================

–ü–∞–∫–µ—Ç: java.util.concurrent.

–ú–ï–•–ê–ù–ò–ó–ú COPY-ON-WRITE
  - –í–Ω—É—Ç—Ä–∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è –º–∞—Å—Å–∏–≤ (volatile —Å—Å—ã–ª–∫–∞). –ü—Ä–∏ —á—Ç–µ–Ω–∏–∏ (get, –∏—Ç–µ—Ä–∞—Ç–æ—Ä)
    –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π –º–∞—Å—Å–∏–≤ ‚Äî –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.
  - –ü—Ä–∏ –ª—é–±–æ–π –∏–∑–º–µ–Ω—è—é—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ (add, set, remove) —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤–∞—è –∫–æ–ø–∏—è
    –≤—Å–µ–≥–æ –º–∞—Å—Å–∏–≤–∞, –≤–Ω–æ—Å–∏—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –∫–æ–ø–∏—é, –∑–∞—Ç–µ–º volatile-—Å—Å—ã–ª–∫–∞
    –∞—Ç–æ–º–∞—Ä–Ω–æ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤. –°—Ç–∞—Ä–∞—è –∫–æ–ø–∏—è –æ—Å—Ç–∞—ë—Ç—Å—è –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤,
    –∫–æ—Ç–æ—Ä—ã–µ –µ—â—ë –ø–æ –Ω–µ–π –∏—Ç–µ—Ä–∏—Ä—É—é—Ç.

–ü–û–ß–ï–ú–£ –ß–¢–ï–ù–ò–ï –ë–´–°–¢–†–û–ï
  - –ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –ø—Ä–∏ get() –∏ –ø—Ä–∏ –æ–±—Ö–æ–¥–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º. –ß–∏—Ç–∞—é—â–∏–µ –ø–æ—Ç–æ–∫–∏
    –Ω–µ –º–µ—à–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥—É –∏ –Ω–µ –∂–¥—É—Ç –ø–∏—Å–∞—Ç–µ–ª–µ–π (–≤–∏–¥—è—Ç —Å–Ω–∏–º–æ–∫ –Ω–∞ –º–æ–º–µ–Ω—Ç
    –Ω–∞—á–∞–ª–∞ –æ–±—Ö–æ–¥–∞ –∏–ª–∏ get).

–ü–û–ß–ï–ú–£ –ó–ê–ü–ò–°–¨ –î–û–†–û–ì–ê–Ø
  - –ö–∞–∂–¥–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ –º–∞—Å—Å–∏–≤–∞. O(n) –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏
    –ø–æ –ø–∞–º—è—Ç–∏. –ü–æ—ç—Ç–æ–º—É COW-–∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –Ω–∞ —Ä–µ–¥–∫–∏–µ –∑–∞–ø–∏—Å–∏.

–í –ö–ê–ö–ò–• –°–¶–ï–ù–ê–†–ò–Ø–• –ü–û–î–•–û–î–ò–¢
  - –ú–Ω–æ–≥–æ —á—Ç–µ–Ω–∏–π, –º–∞–ª–æ –∑–∞–ø–∏—Å–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–æ–∫ —Å–ª—É—à–∞—Ç–µ–ª–µ–π —Å–æ–±—ã—Ç–∏–π,
    –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, —Ä–µ–¥–∫–æ –º–µ–Ω—è—é—â–∏–π—Å—è —Å–ø–∏—Å–æ–∫ —á–µ–≥–æ-–ª–∏–±–æ). –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —Å–ø–∏—Å–∫—É
    –±–µ–∑ ConcurrentModificationException –¥–∞–∂–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥—Ä—É–≥–∏–º –ø–æ—Ç–æ–∫–æ–º.

–ü–†–ò–ú–ï–†

    CopyOnWriteArrayList<String> list = new CopyOnWriteArrayList<>();
    list.add("A");
    for (String s : list) {
        System.out.println(s);
    }

  –ò—Ç–µ—Ä–∞—Ç–æ—Ä –¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –º–∞—Å—Å–∏–≤ –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞.
  –ï—Å–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –¥–æ–±–∞–≤–∏—Ç —ç–ª–µ–º–µ–Ω—Ç, –æ–Ω —É–≤–∏–¥–∏—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤; —Ç–µ–∫—É—â–∏–π
  –∏—Ç–µ—Ä–∞—Ç–æ—Ä –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –æ–±—Ö–æ–¥ –ø–æ —Å—Ç–∞—Ä–æ–º—É ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–æ –≤—Ä–µ–º—è –æ–±—Ö–æ–¥–∞ –Ω–µ –±—É–¥–µ—Ç.

–í–ù–£–¢–†–ï–ù–ù–ò–ô –ú–ï–•–ê–ù–ò–ó–ú (—É–ø—Ä–æ—â—ë–Ω–Ω–æ)
  1. –°–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤–∞—è –∫–æ–ø–∏—è –º–∞—Å—Å–∏–≤–∞ (–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ).
  2. –í–Ω–æ—Å–∏—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏–µ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/–∑–∞–º–µ–Ω–∞/—É–¥–∞–ª–µ–Ω–∏–µ –≤ –∫–æ–ø–∏–∏).
  3. Volatile-–ø–æ–ª–µ –º–∞—Å—Å–∏–≤–∞ –∞—Ç–æ–º–∞—Ä–Ω–æ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤—É—é –∫–æ–ø–∏—é.
  –ü–æ—Å–ª–µ —à–∞–≥–∞ 3 –Ω–æ–≤—ã–µ —á—Ç–µ–Ω–∏—è –∏ –Ω–æ–≤—ã–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã –≤–∏–¥—è—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤;
  —Å—Ç–∞—Ä—ã–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–π –º–∞—Å—Å–∏–≤.

  –°—Ö–µ–º–∞:
    [A, B, C]  --add("D")-->  [A, B, C, D]  (–Ω–æ–≤–∞—è –∫–æ–ø–∏—è)
       ^                            ^
       |                            +-- volatile array = –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤
       +-- —Å—Ç–∞—Ä—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä –≤—Å—ë –µ—â—ë –≤–∏–¥–∏—Ç —ç—Ç–æ—Ç –º–∞—Å—Å–∏–≤


================================================================================
## 4. BLOCKINGQUEUE
================================================================================

–ü–∞–∫–µ—Ç: java.util.concurrent.
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: BlockingQueue<E> —Ä–∞—Å—à–∏—Ä—è–µ—Ç Queue<E>.

–ö–û–ù–¶–ï–ü–¶–ò–Ø PRODUCER-CONSUMER
  - –û–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ (producers) –∫–ª–∞–¥—É—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –æ—á–µ—Ä–µ–¥—å,
    –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ (consumers) –∑–∞–±–∏—Ä–∞—é—Ç —ç–ª–µ–º–µ–Ω—Ç—ã. –û—á–µ—Ä–µ–¥—å
    —Ä–∞–∑–≤—è–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏: producer –º–æ–∂–µ—Ç
    –ø–æ–ª–æ–∂–∏—Ç—å –∑–∞–¥–∞—á—É –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É, consumer –∑–∞–±–∏—Ä–∞–µ—Ç, –∫–æ–≥–¥–∞ –≥–æ—Ç–æ–≤.
  - BlockingQueue –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ (put) –∏ –ø—Ä–∏ –ø—É—Å—Ç–æ–π –æ—á–µ—Ä–µ–¥–∏ (take)
    –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫ –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –º–µ—Å—Ç–∞ –∏–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ ‚Äî –Ω–µ –Ω—É–∂–µ–Ω –∞–∫—Ç–∏–≤–Ω—ã–π
    –æ–ø—Ä–æ—Å (poll –≤ —Ü–∏–∫–ª–µ) –∏ –ø—Ä–æ—â–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è.

–û–°–ù–û–í–ù–´–ï –†–ï–ê–õ–ò–ó–ê–¶–ò–ò
  - ArrayBlockingQueue ‚Äî –æ—á–µ—Ä–µ–¥—å –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –º–∞—Å—Å–∏–≤–µ, bounded (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π
    —Ä–∞–∑–º–µ—Ä). –û–¥–∏–Ω lock –¥–ª—è put –∏ take (–∏–ª–∏ –¥–≤–∞ condition: notFull, notEmpty).
  - LinkedBlockingQueue ‚Äî –æ—á–µ—Ä–µ–¥—å –Ω–∞ —Å–≤—è–∑–Ω–æ–º —Å–ø–∏—Å–∫–µ. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é capacity
    Integer.MAX_VALUE (–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ unbounded). –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–≤–∞ lock‚Äô–∞
    (–¥–ª—è head –∏ tail), —á—Ç–æ –¥–∞—ë—Ç –º–µ–Ω—å—à–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏ –º–µ–∂–¥—É put –∏ take.
  - PriorityBlockingQueue ‚Äî heap –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Comparable –∏–ª–∏
    Comparator). Unbounded. –≠–ª–µ–º–µ–Ω—Ç—ã –≤—ã–¥–∞—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞.

–ü–†–ò–ú–ï–†: PRODUCER –ò CONSUMER

    BlockingQueue<String> queue = new LinkedBlockingQueue<>();

    // Producer
    queue.put("task");   // –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –ø–æ–ª–Ω–∞—è (–¥–ª—è bounded)

    // Consumer
    String task = queue.take();  // –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞—è

–ü–û–ß–ï–ú–£ put() –ë–õ–û–ö–ò–†–£–ï–¢–°–Ø
  - –í bounded-–æ—á–µ—Ä–µ–¥–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ArrayBlockingQueue(capacity)) –ø—Ä–∏ –ø–æ–ª–Ω–æ–π
    –æ—á–µ—Ä–µ–¥–∏ put() –∂–¥—ë—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –º–µ—Å—Ç–∞ (consumer –≤—ã–∑–æ–≤–µ—Ç take()). –¢–∞–∫
    producer –Ω–µ —Ç–µ—Ä—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –Ω–µ –ø–µ—Ä–µ–ø–æ–ª–Ω—è–µ—Ç –ø–∞–º—è—Ç—å.

–ü–û–ß–ï–ú–£ take() –ë–õ–û–ö–ò–†–£–ï–¢–°–Ø
  - –ö–æ–≥–¥–∞ –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞, take() –∂–¥—ë—Ç –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ (–∫—Ç–æ-—Ç–æ –≤—ã–∑–æ–≤–µ—Ç put()).
    Consumer –Ω–µ –∫—Ä—É—Ç–∏—Ç –ø—É—Å—Ç–æ–π —Ü–∏–∫–ª —Å poll() ‚Äî –º–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ CPU –∏
    –ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞.

–ü–û–ß–ï–ú–£ –ù–ï –ù–£–ñ–ù–û –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨ wait()/notify() –í–†–£–ß–ù–£–Æ
  - BlockingQueue –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –±–ª–æ–∫–∏—Ä—É—é—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ: –≤–Ω—É—Ç—Ä–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
    Lock –∏ Condition (–∏–ª–∏ synchronized + wait/notify). –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–π
    –æ—á–µ—Ä–µ–¥–∏ —É–º–µ–Ω—å—à–∞–µ—Ç –æ—à–∏–±–∫–∏ (–ø–æ—Ä—è–¥–æ–∫ wait/notify, lost wakeup) –∏ —É–ø—Ä–æ—â–∞–µ—Ç –∫–æ–¥.
  - –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏: "–ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–æ—Ç–æ–≤—É—é BlockingQueue –≤–º–µ—Å—Ç–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π
    —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ wait/notify ‚Äî –º–µ–Ω—å—à–µ –∫–æ–¥–∞ –∏ –º–µ–Ω—å—à–µ —à–∞–Ω—Å–æ–≤ –Ω–∞ –±–∞–≥–∏."


================================================================================
## 5. –¢–ê–ë–õ–ò–¶–ê –°–†–ê–í–ù–ï–ù–ò–Ø
================================================================================

+---------------------+----------------+------------------------------------------+
| –ö–æ–ª–ª–µ–∫—Ü–∏—è           | Thread-safe    | –ü–æ–¥—Ö–æ–¥                                   |
+---------------------+----------------+------------------------------------------+
| HashMap             | –ù–µ—Ç            | –ù–µ—Ç –∑–∞—â–∏—Ç—ã, —Ç–æ–ª—å–∫–æ single-thread       |
+---------------------+----------------+------------------------------------------+
| Hashtable           | –î–∞             | –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥       |
|                     |                | –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤–µ—Å—å –æ–±—ä–µ–∫—Ç)                   |
+---------------------+----------------+------------------------------------------+
| ConcurrentHashMap   | –î–∞             | CAS + fine-grained locking –ø–æ –±–∞–∫–µ—Ç–∞–º,   |
|                     |                | tree bins –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏–∏                   |
+---------------------+----------------+------------------------------------------+
| CopyOnWriteArrayList| –î–∞             | –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ (copy-on-write),  |
|                     |                | —á—Ç–µ–Ω–∏–µ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏                    |
+---------------------+----------------+------------------------------------------+
| BlockingQueue       | –î–∞             | Lock + Condition –¥–ª—è put/take,           |
| (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)       |                | –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ put()/take()                 |
+---------------------+----------------+------------------------------------------+


================================================================================
## 6. –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –í QA AUTOMATION
================================================================================

Shared state –≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö
  - –û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫—ç—à —Ç–æ–∫–µ–Ω–æ–≤, —Å—á—ë—Ç—á–∏–∫–∏) –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏ —Ç–µ—Å—Ç–æ–≤
    –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ thread-safe —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö: ConcurrentHashMap, CopyOnWriteArrayList,
    Atomic*. –ò–Ω–∞—á–µ –ø–∞–¥–µ–Ω–∏—è, –Ω–µ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–µ –±–∞–≥–∏ –ø—Ä–∏ parallel execution.

Thread-safe –∫—ç—à
  - –ö—ç—à (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–≤–µ—Ç–æ–≤ API –∏–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö), –¥–æ—Å—Ç—É–ø–Ω—ã–π –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö
    –ø–æ—Ç–æ–∫–æ–≤: ConcurrentHashMap –¥–ª—è –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
    compute/merge –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

Producer-consumer –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á
  - –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á (URL‚Äô—ã, –∏–º–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã): producer(s) –∫–ª–∞–¥—É—Ç –≤
    BlockingQueue, worker-–ø–æ—Ç–æ–∫–∏ –∑–∞–±–∏—Ä–∞—é—Ç take() –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
    —Ä–∞–∑–º–µ—Ä–∞ –æ—á–µ—Ä–µ–¥–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –ø–∞–º—è—Ç—å; –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ put/take —É–ø—Ä–æ—â–∞—é—Ç
    –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é.

–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π —Å–±–æ—Ä –ª–æ–≥–æ–≤
  - –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –ø–∏—à—É—Ç –ª–æ–≥–∏ –≤ –æ–±—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π
    –¥–ª—è –æ—Ç—á—ë—Ç–∞). CopyOnWriteArrayList –∏–ª–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å –ø–æ–∑–≤–æ–ª—è—é—Ç
    –¥–æ–±–∞–≤–ª—è—Ç—å –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —á–∏—Ç–∞—é—â–µ–≥–æ –ø–æ—Ç–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç.

TestNG parallel execution
  - –ü—Ä–∏ parallel="methods" –∏–ª–∏ "classes" —Ä–∞–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã/–∫–ª–∞—Å—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤
    —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö. –û–±—â–∏–µ @BeforeSuite/—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ, –æ–±—â–∏–µ —Å–ø–∏—Å–∫–∏
    —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å thread-safe (ConcurrentHashMap, CopyOnWriteArrayList,
    synchronized-–∫–æ–ª–ª–µ–∫—Ü–∏–∏), –∏–Ω–∞—á–µ –≤–æ–∑–º–æ–∂–Ω—ã –≥–æ–Ω–∫–∏ –∏ –ø–∞–¥–µ–Ω–∏—è.


================================================================================
## 7. DEEP DIVE (Senior/Lead)
================================================================================

–ß–¢–û –¢–ê–ö–û–ï CAS –ù–ê –£–†–û–í–ù–ï CPU
  - Compare-And-Swap: –∞—Ç–æ–º–∞—Ä–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, CMPXCHG –Ω–∞ x86).
    –û–ø–µ—Ä–∞—Ü–∏—è: –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–∞–º—è—Ç–∏ –≤ —Ä–µ–≥–∏—Å—Ç—Ä, —Å—Ä–∞–≤–Ω–∏—Ç—å —Å –æ–∂–∏–¥–∞–µ–º—ã–º;
    –µ—Å–ª–∏ —Ä–∞–≤–Ω—ã ‚Äî –∑–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç—å; –∏–Ω–∞—á–µ –Ω–µ –º–µ–Ω—è—Ç—å. –í—Å—ë –≤
    –æ–¥–Ω–æ–π –∞—Ç–æ–º–∞—Ä–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è lock-free —Å—Ç—Ä—É–∫—Ç—É—Ä (–æ—á–µ—Ä–µ–¥–∏,
    —Å—á—ë—Ç—á–∏–∫–∏, –±–∞–∫–µ—Ç—ã –≤ CHM). –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ ‚Äî –ø–æ–≤—Ç–æ—Ä (retry), –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
    –ø–æ—Ç–æ–∫–∞ –Ω–∞ –º–æ–Ω–∏—Ç–æ—Ä–µ.

–ü–û–ß–ï–ú–£ volatile –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø –í–ù–£–¢–†–ò CONCURRENT –ö–û–õ–õ–ï–ö–¶–ò–ô
  - –ì–∞—Ä–∞–Ω—Ç–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏: –∑–∞–ø–∏—Å—å –≤ volatile –≤–∏–¥–Ω–∞ –≤—Å–µ–º –ø–æ—Å–ª–µ–¥—É—é—â–∏–º —á—Ç–µ–Ω–∏—è–º
    —ç—Ç–æ–≥–æ volatile –≤ –¥—Ä—É–≥–∏—Ö –ø–æ—Ç–æ–∫–∞—Ö (happens-before). –í CHM –∏ COW-–∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö
    —Å—Å—ã–ª–∫–∏ –Ω–∞ —É–∑–ª—ã/–º–∞—Å—Å–∏–≤—ã –æ–±—ä—è–≤–ª–µ–Ω—ã volatile, —á—Ç–æ–±—ã –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –≤–∏–¥–µ–ª
    –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥—Ä—É–≥–æ–≥–æ –±–µ–∑ –∑–∞—Ö–≤–∞—Ç–∞ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.

–ß–¢–û –¢–ê–ö–û–ï HAPPENS-BEFORE
  - –û—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ: –µ—Å–ª–∏ A happens-before B,
    —Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞–º—è—Ç–∏, –≤–∏–¥–∏–º—ã–µ –≤ A, –≤–∏–¥–Ω—ã –≤ B. –ì–∞—Ä–∞–Ω—Ç–∏–∏ –¥–∞—é—Ç: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
    (synchronized, volatile, Lock), –∑–∞–ø—É—Å–∫/–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤, –∏ —Ç.–¥. –í–∞–∂–Ω–æ –¥–ª—è
    –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –±–µ–∑ —è–≤–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –≤–µ–∑–¥–µ.

–ü–û–ß–ï–ú–£ synchronized MAP –•–£–ñ–ï –ú–ê–°–®–¢–ê–ë–ò–†–£–ï–¢–°–Ø
  - Collections.synchronizedMap(map) –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –≤ synchronized (this).
    –û–¥–∏–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä: –ø—Ä–∏ –ª—é–±–æ–º put/get –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –∂–¥—ë—Ç.
    –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –æ–¥–Ω–∏–º –ø–æ—Ç–æ–∫–æ–º –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏.
  - ConcurrentHashMap: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∫–µ—Ç–∞ (–∏–ª–∏ CAS –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏),
    —Ä–∞–∑–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ –±–∞–∫–µ—Ç–∞–º–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ ‚Äî –ª—É—á—à–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
    –ø—Ä–∏ –±–æ–ª—å—à–æ–º —á–∏—Å–ª–µ –ø–æ—Ç–æ–∫–æ–≤.


================================================================================
## –ö–†–ê–¢–ö–û–ï –†–ï–ó–Æ–ú–ï –î–õ–Ø –ó–ê–ü–û–ú–ò–ù–ê–ù–ò–Ø
================================================================================

  - –û–±—ã—á–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (HashMap, ArrayList) –Ω–µ thread-safe: –≥–æ–Ω–∫–∏ –ø—Ä–∏ put/resize,
    get+put –Ω–µ –∞—Ç–æ–º–∞—Ä–Ω—ã. HashMap –≤ Java 7 –ø—Ä–∏ resize –º–æ–≥ –¥–∞–≤–∞—Ç—å infinite loop.

  - ConcurrentHashMap: java.util.concurrent; CAS + fine-grained locking; tree bins;
    –∞—Ç–æ–º–∞—Ä–Ω—ã–µ compute, merge, putIfAbsent, replace. compute –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ get+put.

  - CopyOnWriteArrayList: copy-on-write –ø—Ä–∏ –∑–∞–ø–∏—Å–∏; —á—Ç–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–µ –∏ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫;
    –∑–∞–ø–∏—Å—å –¥–æ—Ä–æ–≥–∞—è (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞). –°—Ü–µ–Ω–∞—Ä–∏–π: –º–Ω–æ–≥–æ —á—Ç–µ–Ω–∏–π, –º–∞–ª–æ –∑–∞–ø–∏—Å–µ–π.

  - BlockingQueue: producer-consumer; put/take –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –ø–æ–ª–Ω–æ–π/–ø—É—Å—Ç–æ–π –æ—á–µ—Ä–µ–¥–∏;
    ArrayBlockingQueue, LinkedBlockingQueue, PriorityBlockingQueue. –ù–µ –Ω—É–∂–µ–Ω —Å–≤–æ–π
    wait/notify.

  - –í –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞—Ö: –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏ parallel ‚Äî —Ç–æ–ª—å–∫–æ thread-safe –∫–æ–ª–ª–µ–∫—Ü–∏–∏;
    –∫—ç—à ‚Äî CHM; –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á ‚Äî BlockingQueue; —Å–±–æ—Ä –ª–æ–≥–æ–≤ ‚Äî COW –∏–ª–∏ thread-safe –æ—á–µ—Ä–µ–¥—å.

  - Deep: CAS ‚Äî –∞—Ç–æ–º–∞—Ä–Ω–∞—è compare-and-swap –Ω–∞ CPU; volatile ‚Äî –≤–∏–¥–∏–º–æ—Å—Ç—å;
    happens-before ‚Äî –ø–æ—Ä—è–¥–æ–∫ –≤–∏–¥–∏–º–æ—Å—Ç–∏; synchronized map ‚Äî –æ–¥–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ –≤—Å—ë,
    CHM –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –∑–∞ —Å—á—ë—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –ø–æ –±–∞–∫–µ—Ç–∞–º.

--------------------------------------------------------------------------------
üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ –≤–∞–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å:
   "–í –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º –∫–æ–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é HashMap/ArrayList –±–µ–∑ –æ–±—ë—Ä—Ç–∫–∏ –∏–ª–∏ –∑–∞–º–µ–Ω—ã.
    –î–ª—è –∫–∞—Ä—Ç—ã ‚Äî ConcurrentHashMap –∏ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ compute/merge; –¥–ª—è —Å–ø–∏—Å–∫–∞ —Å
    —Ä–µ–¥–∫–∏–º–∏ –∑–∞–ø–∏—Å—è–º–∏ ‚Äî CopyOnWriteArrayList; –¥–ª—è –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á ‚Äî BlockingQueue."
--------------------------------------------------------------------------------
